<!doctype html>
<html>
<head>
<meta charset="utf-8">

<title>Tree Diagram</title>

<link rel="stylesheet" href="css/vtree.css" type="text/css"/>

<script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="dist/vtree.js"></script>

<script type="text/javascript">
var vt;

window.onload = function () {
  var container = document.getElementById("container");
  vt = new VTree(container);
  var reader = new VTree.reader.Object();

  function updateTree() {
    var s = '{\"decl_list\":{\"decl\":{\"type_spec\":{\"Value\":\"int\"},\"id\":{\"Value\":\"main\"},\"LB\":{\"Value\":\"(\"},\"RB\":{\"Value\":\")\"},\"compound_stmt\":{\"LC\":{\"Value\":\"{\"},\"stmt_list\":{\"stmt_list_dash\":{\"stmt\":{\"local_decals_dash\":{\"local_decal\":{\"type_spec\":{\"Value\":\"int\"},\"id\":{\"Value\":\"val\"},\"local_decal_dash\":{\"simicolon\":{\"Value\":\";\"}}}}},\"stmt_list_dash\":{\"stmt\":{\"expr\":{\"id\":{\"Value\":\"val\"},\"expr_d_dash\":{\"Eq\":{\"Value\":\"\\u003d\"},\"expr\":{\"literal\":{\"Value\":\"3\"},\"expr_q_dash\":{\"expr_t_dash\":{\"op\":{\"Value\":\"+\"},\"expr\":{\"literal\":{\"Value\":\"5\"},\"expr_q_dash\":{\"expr_t_dash\":{\"op\":{\"Value\":\"*\"},\"expr\":{\"literal\":{\"Value\":\"7\"}}}}}}}}}},\"simicolon\":{\"Value\":\";\"}},\"stmt_list_dash\":{\"stmt\":{\"local_decals_dash\":{\"local_decal\":{\"type_spec\":{\"Value\":\"int\"},\"id\":{\"Value\":\"m\"},\"local_decal_dash\":{\"simicolon\":{\"Value\":\";\"}}}}},\"stmt_list_dash\":{\"stmt\":{\"expr\":{\"id\":{\"Value\":\"m\"},\"expr_d_dash\":{\"Eq\":{\"Value\":\"\\u003d\"},\"expr\":{\"literal\":{\"Value\":\"3\"}}}},\"simicolon\":{\"Value\":\";\"}},\"stmt_list_dash\":{\"stmt\":{\"local_decals_dash\":{\"local_decal\":{\"type_spec\":{\"Value\":\"String\"},\"id\":{\"Value\":\"text\"},\"local_decal_dash\":{\"simicolon\":{\"Value\":\";\"}}}}},\"stmt_list_dash\":{\"stmt\":{\"expr\":{\"id\":{\"Value\":\"text\"},\"expr_d_dash\":{\"Eq\":{\"Value\":\"\\u003d\"},\"expr\":{\"literal\":{\"Value\":\"\\\"int x+1\\\"\"}}}},\"simicolon\":{\"Value\":\";\"}},\"stmt_list_dash\":{\"stmt\":{\"While\":{\"Value\":\"while\"},\"LS\":{\"Value\":\"(\"},\"expr\":{\"id\":{\"Value\":\"val\"},\"expr_q_dash\":{\"expr_t_dash\":{\"op\":{\"Value\":\"\\u003c\"},\"expr\":{\"literal\":{\"Value\":\"3\"},\"expr_q_dash\":{\"expr_t_dash\":{\"op\":{\"Value\":\"\\u0026\\u0026\"},\"expr\":{\"id\":{\"Value\":\"m\"},\"expr_q_dash\":{\"expr_t_dash\":{\"op\":{\"Value\":\"\\u003e\"},\"expr\":{\"literal\":{\"Value\":\"0\"}}}}}}}}}}},\"RS\":{\"Value\":\")\"},\"stmt\":{\"LC\":{\"Value\":\"{\"},\"stmt_list\":{\"stmt_list_dash\":{\"stmt\":{\"local_decals_dash\":{\"local_decal\":{\"type_spec\":{\"Value\":\"int\"},\"id\":{\"Value\":\"x\"},\"local_decal_dash\":{\"simicolon\":{\"Value\":\";\"}}},\"local_decals_dash\":{\"local_decal\":{\"type_spec\":{\"Value\":\"int\"},\"id\":{\"Value\":\"y\"},\"local_decal_dash\":{\"simicolon\":{\"Value\":\";\"}}},\"local_decals_dash\":{\"local_decal\":{\"type_spec\":{\"Value\":\"int\"},\"id\":{\"Value\":\"z\"},\"local_decal_dash\":{\"simicolon\":{\"Value\":\";\"}}}}}}}}},\"RC\":{\"Value\":\"}\"}}},\"stmt_list_dash\":{\"stmt\":{\"local_decals_dash\":{\"local_decal\":{\"type_spec\":{\"Value\":\"String\"},\"id\":{\"Value\":\"x\"},\"local_decal_dash\":{\"simicolon\":{\"Value\":\";\"}}}}},\"stmt_list_dash\":{\"stmt\":{\"expr\":{\"id\":{\"Value\":\"x\"},\"expr_d_dash\":{\"Eq\":{\"Value\":\"\\u003d\"},\"expr\":{\"literal\":{\"Value\":\"\\\"/*hello\\\"\"}}}},\"simicolon\":{\"Value\":\";\"}},\"stmt_list_dash\":{\"stmt\":{\"local_decals_dash\":{\"local_decal\":{\"type_spec\":{\"Value\":\"float\"},\"id\":{\"Value\":\"x\"},\"local_decal_dash\":{\"simicolon\":{\"Value\":\";\"}}}}},\"stmt_list_dash\":{\"stmt\":{\"expr\":{\"id\":{\"Value\":\"x\"},\"expr_d_dash\":{\"Eq\":{\"Value\":\"\\u003d\"},\"expr\":{\"literal\":{\"Value\":\"3.5\"}}}},\"simicolon\":{\"Value\":\";\"}}}}}}}}}}}}}},\"RC\":{\"Value\":\"}\"}}}}}';
    var jsonData = JSON.parse(s);


    var data = reader.read(jsonData);

    vt.data(data)
      .update();
  }

  function createSvgString() {
    document.getElementById("svg-text").value = vt.createSvgString();
  }

  updateTree();
};

</script>

</head>

<body>
  <div class="container">
    <div id="container"></div>
  </div>
</body>

</html>
