<!doctype html>
<html>
<head>
<meta charset="utf-8">

<title>Tree Diagram</title>

<link rel="stylesheet" href="css/vtree.css" type="text/css"/>

<script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="dist/vtree.js"></script>

<script type="text/javascript">
var vt;

window.onload = function () {
  var container = document.getElementById("container");
  vt = new VTree(container);
  var reader = new VTree.reader.Object();

  function updateTree() {
    var s = '{"decl_list":{"decl":{"type_spec":{"Value":"bool"},"id":{"Value":"isPowerOfTwo"},"LB":{"Value":"("},"params":{"param_list":{"param":{"type_spec":{"Value":"int"},"id":{"Value":"x"}}}},"RB":{"Value":")"},"compound_stmt":{"LC":{"Value":"{"},"stmt_list":{"stmt_list_dash":{"stmt":{"local_decals_dash":{"local_decal":{"type_spec":{"Value":"float"},"id":{"Value":"f"},"local_decal_dash":{"simicolon":{"Value":";"}}}}},"stmt_list_dash":{"stmt":{"expr":{"id":{"Value":"f"},"expr_d_dash":{"Eq":{"Value":"\u003d"},"expr":{"literal":{"Value":"0.65"}}}},"simicolon":{"Value":";"}},"stmt_list_dash":{"stmt":{"local_decals_dash":{"local_decal":{"type_spec":{"Value":"int"},"id":{"Value":"x"},"local_decal_dash":{"simicolon":{"Value":";"}}}}},"stmt_list_dash":{"stmt":{"expr":{"id":{"Value":"x"},"expr_d_dash":{"Eq":{"Value":"\u003d"},"expr":{"literal":{"Value":"5"}}}},"simicolon":{"Value":";"}},"stmt_list_dash":{"stmt":{"local_decals_dash":{"local_decal":{"type_spec":{"Value":"int"},"id":{"Value":"y"},"local_decal_dash":{"simicolon":{"Value":";"}}}}},"stmt_list_dash":{"stmt":{"expr":{"id":{"Value":"y"},"expr_d_dash":{"Eq":{"Value":"\u003d"},"expr":{"literal":{"Value":"6"}}}},"simicolon":{"Value":";"}},"stmt_list_dash":{"stmt":{"local_decals_dash":{"local_decal":{"type_spec":{"Value":"int"},"id":{"Value":"z"},"local_decal_dash":{"simicolon":{"Value":";"}}}}},"stmt_list_dash":{"stmt":{"expr":{"id":{"Value":"z"},"expr_d_dash":{"Eq":{"Value":"\u003d"},"expr":{"id":{"Value":"x"}}}},"simicolon":{"Value":";"}},"stmt_list_dash":{"stmt":{"local_decals_dash":{"local_decal":{"type_spec":{"Value":"char"},"id":{"Value":"k"},"local_decal_dash":{"simicolon":{"Value":";"}}}}},"stmt_list_dash":{"stmt":{"expr":{"id":{"Value":"k"},"expr_d_dash":{"Eq":{"Value":"\u003d"},"expr":{"literal":{"Value":"\u0027k\u0027"}}}},"simicolon":{"Value":";"}},"stmt_list_dash":{"stmt":{"local_decals_dash":{"local_decal":{"type_spec":{"Value":"bool"},"id":{"Value":"f"},"local_decal_dash":{"simicolon":{"Value":";"}}}}},"stmt_list_dash":{"stmt":{"expr":{"id":{"Value":"f"},"expr_d_dash":{"Eq":{"Value":"\u003d"},"expr":{"literal":{"Value":"true"}}}},"simicolon":{"Value":";"}},"stmt_list_dash":{"stmt":{"local_decals_dash":{"local_decal":{"type_spec":{"Value":"int"},"id":{"Value":"arr"},"local_decal_dash":{"LB":{"Value":"["},"RB":{"Value":"]"},"simicolon":{"Value":";"}}}}},"stmt_list_dash":{"stmt":{"expr":{"id":{"Value":"arr"},"expr_d_dash":{"Eq":{"Value":"\u003d"},"expr":{"New":{"Value":"new"},"type_spec":{"Value":"int"},"LB":{"Value":"["},"expr":{"literal":{"Value":"10"}},"RB":{"Value":"]"}}}},"simicolon":{"Value":";"}},"stmt_list_dash":{"stmt":{"expr":{"id":{"Value":"z"},"expr_d_dash":{"Eq":{"Value":"\u003d"},"expr":{"id":{"Value":"x"},"expr_q_dash":{"expr_t_dash":{"op":{"Value":"+"},"expr":{"id":{"Value":"y"}}}}}}},"simicolon":{"Value":";"}},"stmt_list_dash":{"stmt":{"Return":{"Value":"return"},"return_stmt_dash":{"expr":{"id":{"Value":"x"},"expr_q_dash":{"expr_t_dash":{"op":{"Value":"\u0026\u0026"},"expr":{"LS":{"Value":"("},"expr":{"op":{"Value":"!"},"expr":{"LS":{"Value":"("},"expr":{"id":{"Value":"x"},"expr_q_dash":{"expr_t_dash":{"op":{"Value":"\u0026"},"expr":{"LS":{"Value":"("},"expr":{"id":{"Value":"x"},"expr_q_dash":{"expr_t_dash":{"op":{"Value":"-"},"expr":{"literal":{"Value":"1"}}}}},"RS":{"Value":")"}}}}},"RS":{"Value":")"}}},"RS":{"Value":")"}}}}},"simicolon":{"Value":";"}}}}}}}}}}}}}}}}}}}},"RC":{"Value":"}"}}}}}';
    var jsonData = JSON.parse(s);


    var data = reader.read(jsonData);

    vt.data(data)
      .update();
  }

  function createSvgString() {
    document.getElementById("svg-text").value = vt.createSvgString();
  }

  updateTree();
};

</script>

</head>

<body>
  <div class="container">
    <div id="container"></div>
  </div>
</body>

</html>
